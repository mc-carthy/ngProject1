<form [ngFormModel]="form" (ngSubmit)="resetPassword()">
    <div class="form-group">
        <label for="currentPassword">Current Password</label>
        <input 
            id="currentPassword" 
            type="text" 
            class="form-control"
            ngControl="currentPassword"
            #currentPassword="ngForm">
    </div>
    <div *ngIf="currentPassword.touched && currentPassword.errors">
        <div
            *ngIf="currentPassword.errors.required" 
            class="alert alert-danger">
            Current password is required
        </div>
        <div
            *ngIf="currentPassword.errors.validCurrentPassword" 
            class="alert alert-danger">
            Incorrect password was entered
        </div>
    </div>
    <div class="form-group">
        <label for="newPassword">New Password</label>
        <input 
            id="newPassword" 
            type="text" 
            class="form-control"
            ngControl="newPassword"
            #newPassword="ngForm">
    </div>
    <div *ngIf="newPassword.touched && newPassword.errors">
        <div
            *ngIf="newPassword.errors.required" 
            class="alert alert-danger">
            Current password is required
        </div>
        <div
            *ngIf="newPassword.errors.complexPassword" 
            class="alert alert-danger">
            New password should be at least {{ newPassword.errors.complexPassword.minLength }} characters in length
        </div>
    </div>
    <div class="form-group">
        <label for="confirmPassword">Confirm Password</label>
        <input 
            id="confirmPassword" 
            type="text" 
            class="form-control"
            ngControl="confirmPassword"
            #confirmPassword="ngForm">
    </div>
    <div
        *ngIf="!confirmPassword.valid && confirmPassword.touched" 
        class="alert alert-danger">
        Password confirmation required
    </div>
    <div
        *ngIf="form.errors && form.errors.passwordsShouldMatch && confirmPassword.touched" 
        class="alert alert-danger">
        Passwords don't match
    </div>
    <button class="btn btn-primary" type="submit" [disabled]="!form.valid">Submit</button>
</form>